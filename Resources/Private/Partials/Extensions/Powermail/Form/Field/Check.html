{namespace vh=In2code\Powermail\ViewHelpers}
<div class="powermail_fieldwrap powermail_fieldwrap_type_check powermail_fieldwrap_{field.marker} {f:if(condition: '{field.css} == layout1', then: 'tc-form-group--inline', else: '')} {f:if(condition: '{field.css} == layout2', then: 'tc-form-group--stack', else: '')} {settings.styles.framework.fieldAndLabelWrappingClasses}">
    <f:render partial="Form/FieldLabel" arguments="{_all}" />
    <div class="tc-form-group tc-form-group__item {settings.styles.framework.fieldWrappingClasses}">
        <f:for each="{field.modifiedSettings}" as="setting" iteration="index">
            <div class="tc-form-group__item">
                <div class="{settings.styles.framework.checkClasses} {vh:validation.errorClass(field:field, class:'powermail_field_error')}">
                    <label>
                        <f:form.checkbox
                                property="{field.marker}."
                                value="{setting.value}"
                                checked="{vh:misc.prefillMultiField(field:field, mail:mail, cycle:index.cycle)}"
                                id="powermail_field_{field.marker}_{index.cycle}"
                                additionalAttributes="{vh:validation.validationDataAttribute(field:field, iteration:index)}"
                                class="tc-checkbox powermail_checkbox powermail_checkbox_{field.uid}" />
                        <span>
                            <vh:string.escapeLabels>{setting.label}</vh:string.escapeLabels>
                        </span>
                    </label>
                </div>
            </div>
        </f:for>

        <f:if condition="{settings.validation.client}">
            <div class="powermail_field_error_container powermail_field_error_container_{field.marker}"></div>
        </f:if>
    </div>
</div>
